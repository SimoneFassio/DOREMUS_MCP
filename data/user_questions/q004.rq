# category: "Works and Expressions"
# question: "How many works did Claude Debussy composed?"
# query:
SELECT (COUNT(DISTINCT ?expression) AS ?count)
WHERE {
  ?expression a efrbroo:F22_Self-Contained_Expression .
  ?expression rdfs:label ?title .
  ?expCreation efrbroo:R17_created ?expression ;
    ecrm:P9_consists_of ?compositionActivity .
  ?compositionActivity ecrm:P14_carried_out_by ?composer ;
    mus:U31_had_function <http://data.doremus.org/vocabulary/function/composer> .
  ?composer foaf:name "Claude Debussy" .
}

# workflow
# find_candidate_entities(name="Claude Debussy", entity_type="artist")
# build_query(question="How many works did Claude Debussy composed?", template="expression")
# apply_filter(query_id="q4", base_variable="expression", template="expression", filters={"composer_name": "Claude Debussy"})
# select_aggregate_variable(query_id="q4", variable="expression", aggregator="COUNT")
# execute_query(query_id="q4")